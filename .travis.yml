dist: trusty
sudo: false

language: node_js
node_js:
  - "10"

branches:
  only:
  - master

addons:
  chrome: stable

cache:
  directories:
     - ./node_modules

install:
  - npm install


before_script:
  - npm install -g @angular/cli

script:
  - npm run test-headless
  - ng build --prod

deploy:
  provider: heroku
  skip_cleanup: true
  keep-history: true
  api_key:
    secure: "HqQyT3fT9KCji2fvXAULU96c1z8gdXRHspFp2CdL+DiiyLf9CDSRQv4BfJX4y74tcHoR+Ud51ve0jc5vnuhwQ1oWcnof1ZxkybyN770crc918fpr/RMvUhlJkjLwZE3pjvY0p8sfmu0YP4jiSipS+3yCmVx6TFnJML0T6hZ2hDYXGPCg0HVYzU5ztfhSWEsn8OUiADTr1XcKW2AxqEoXptAQaLPJe9wadCCuWKKlvR2UbrmcsRqNj9cHThllx40inq+fs2vSY7MJE2Tl5AlDnf6aIG+t6h98EuQ3kvolO6CfzjLHNCOxu9zO0po4q4nb0POWwsz38nkefq/+x5PvfR3hcWEp5FsJrg1vTfzhqG/oOAS4htUyhXKMpfATi4uv4tA6A1kLtMo4LWp9AQPs4q8Y6bo5ssQIqbyaN3PPORqWS/+HJjY3xoP+CI1rDSoLqd3Y4b89eqK4fPZ36+TzZ62xtnE1AGUoZTIWKZ70OC3oDsmznxKnG/BdRSmH6x6THEJsdP1553Zpq4vJITv1NZT0A2H1u5iHyf9LvCfzBA3eSc4TVDcLPAtLBiVFtliHY9udlXCa+ZvLFg4W8kYZSLd3A5kbrK6ZlVMXDX0MbeVVOl7w7ulltqocPgLFM3lbEWL8wBWECP+XcHEwU1i0tmSs5GfrlR0/Sk/82G6Z7aI="
  app: hacker-news-clone-demo